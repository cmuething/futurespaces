<!DOCTYPE html>
<html>

<head>
    
<link rel="stylesheet" href="main.css">

</head>

<body>

<div id="container">    
    
    <div class="title-left">
        <h1>FUTURE</h1>
    </div>
    
    <div class="title-right">
         <h1>SPACES</h2>
    </div>
    
    <div class="dictionary">
        
    <div class="limit" id="limit">
        <script id="icons" type="text/x-mustache-template">
        {{#everything}}
            {{#floaters}}
                <div id="limit-small" class="{{them}} {{prop}} {{mat}}" data-vx='{{vx}}' data-vy='{{vy}}' >
                    <a class="golink" id='{{id}}' href="{{url}}" data-url={{url}}>
                        {{#entry}}
                            {{#icon}}<div class="{{icon}}"></div>{{/icon}}
                        {{/entry}}
                    </a>
                </div>
            {{/floaters}}
        {{/everything}}
        </script>
    </div>
        
    <div class="table-photos">
        <ul>        
            <li class="selected">
                <img class="selected-img" src="images/table/photo_1.JPG">
                <div class="eyes-below hidden"><img src="images/eyes-20.png"></div>
                <h1>This photo is being used to design the public space below</h1>
            </li>
            <li><img src="images/table/photo_2.JPG"></li>
            <li><img src="images/table/photo_3.JPG"></li>
            <li><img src="images/table/photo_4.JPG"></li>
            <li><img src="images/table/photo_5.JPG"></li>
            <li><img src="images/table/photo_6.JPG"></li>
            <li><img src="images/table/photo_7.JPG"></li>
            <li><img src="images/table/photo_8.JPG"></li>
            <li><img src="images/table/photo_9.JPG"></li>
            <li><img src="images/table/photo_10.JPG"></li>
            <li><img src="images/table/photo_11.JPG"></li>
            <li><img src="images/table/photo_12.JPG"></li>
            <li><img src="images/table/photo_13.JPG"></li>
            <li><img src="images/table/photo_14.JPG"></li>
            <li><img src="images/table/photo_15.JPG"></li>
            <li><img src="images/table/photo_16.JPG"></li>
        </ul>
    </div>
        
    <div class="sort">
        <div id="properties">
            <div id="prop1" class="properties">
                <h1>GYPSUM</h1>
            </div>
            <div id="prop2" class="properties">
                <h1>CONCRETE</h1>
            </div>
            <div id="prop3" class="properties">
                <h1>RESIN</h1>
            </div>
            <div id="prop4" class="properties">
                <h1>OTHER</h1>
            </div>
        </div>
        <div id="themes">
            <div id="them1" class="themes">
                <h1>FORM</h1>
            </div>
            <div id="them2" class="themes">
                <h1>PARTICIPATION</h1>
            </div>
            <div id="them3" class="themes">
                <h1>PERCEPTION</h1>
            </div>
        </div>
    </div>
        
        <div class="list-view">
            <div class="list">
            <script id="list" type="text/x-mustache-template">
                {{#everything}}
                    {{#floaters}}
                        <div class="allcontent">
                            <div class="icon">
                                <div id="list-theme">{{theme}}</div>
                                <div id="list-prop">{{property}}</div>
                                <div id="{{mat}}"></div>
                            </div>
                            <ul>
                                {{#entry}}
                                <li>
                                    {{title}}
                                    <img src="images{{face}}">
                                </li>
                                {{/entry}}
                            </ul>
                        </div>
                    {{/floaters}}
                {{/everything}}
            </script>
            </div>
        </div>
        
    </div>
    
    <div class="about hidden">
        <div id="popup">
            <h1>About this site</h1>
            <p>This site is the culmination of a lengthy conceptual and material research process conducted in 2016 as part of Future Spaces. Each cluster of icons represents a new material test along with five entries into this dictionary. The concept based research, either media, content, visual, or location, has been divided into three different themes. Similarly, the material research has been divided into four different types. As a result of both of these research processes, a final manifesto for the project and material choice for the corresponding objects used in the build environments and final space have been reached. This site allows you to interact with the integral process that led to this installation.</p><p>Special thanks to Jennifer Hock, James Rouvelle, Kristian Bjornard, Ryan Hoover, Ben Kelley, Pete Karis, and David East for their help with Future Spaces.</p>
        </div>
    </div>

    <div id="manifesto" class="manifesto">
        
        <script id="manifesto-versions" type="text/x-mustache-template">
            <div class="versions">
            {{#everything}}
                <ul>
                    {{#manifesto}}
                        <li style="opacity:{{opacity}};">
                            <h1>Manifesto<div class="number">{{number}}</div></h1>
                            <p>{{{text}}}</p>
                        </li>
                    {{/manifesto}}
                </ul>
            {{/everything}} 
            </div>
        </script>
    </div>
    
<!--
    <div class="schedule">
        <ul>
            <li>Week 16</li>
            <li class="complete">Week 15</li>
            <li class="complete">Week 14</li>
            <li class="complete">Week 13</li>
            <li class="complete">Week 12</li>
            <li class="complete">Week 11</li>
            <li class="complete">Week 10</li>
            <li class="complete">Week 9</li>
            <li class="complete">Week 8</li>
            <li class="complete">Week 7</li>
            <li class="complete">Week 6</li>
            <li class="complete">Week 5</li>
            <li class="complete">Week 4</li>
            <li class="complete">Week 3</li>
            <li class="complete">Week 2</li>
            <li class="complete">Week 1</li>
        </ul>
    </div>
-->
    
    <div id="bottom">
        <div class="about-toggle">
            <p>About</p>
        </div>
        <div class="manifesto-toggle">
            <p>Manifesto</p>
        </div>
<!--
        <div class="schedule-toggle">
            <p>Schedule</p>
        </div>
-->
        <div class="table">
            <p>Table</p>
        </div>
        <div class="build">
            <a target="_blank" href="/build.html"><p>Build</p></a>
        </div>
        <div class="list-toggle">
            <p>List</p>
        </div>
        <div class="sort-toggle">
            <p>Sort</p>
        </div>
        <div class="sort-types hidden">
            <p class="theme-toggle">Themes</p>
            <p class="prop-toggle">Types</p>
        </div>
    </div>
    
    <div id="magic-cube" class="hidden"></div>
    <div id="deleteItAll" class="hidden"><img src="cursor_white.cur"></div>
        
</div>
        
<script src="js/three.min.js"></script>
<script src="js/OrbitControls.js"></script>
<script src="js/mustache.min.js"></script>
    
<script language="javascript" type="text/javascript" src="js/jquery-1.11.3.js"></script>
<script language="javascript" type="text/javascript" src="js/jquery-ui.js"></script>
    
<script src="js/google-analytics.js"></script>
    
<script>
    
    $('.about-toggle').on('click', function(event){  
        
        var manifestoOff = $('.manifesto-toggle');
        var sortmenu = $('.sort-toggle');
        var listmenu = $('.list-toggle');
        var scheduleOff = $('.schedule-toggle');
        var tableOff = $('.table');
        
        $('.about').removeClass('hidden');
        $('#container').addClass('close-popup');
        manifestoOff.addClass('disable');
        scheduleOff.addClass('disable');
        sortmenu.addClass('disable');
        listmenu.addClass('disable');
        tableOff.addClass('disable');
        
        $('.about').on('click', function(event){
            $('.about').addClass('hidden');
            $('#container').removeClass('close-popup');
            manifestoOff.removeClass('disable');
            scheduleOff.removeClass('disable');
            sortmenu.removeClass('disable');
            listmenu.removeClass('disable');
            tableOff.removeClass('disable');
        })
    });
    
    $('.manifesto-toggle').on('click', function(event){
        event.preventDefault();
        var manifestoTop = $('.manifesto');
        var sortmenu = $('.sort-toggle');
        var listmenu = $('.list-toggle');
        var scheduleOff = $('.schedule-toggle');
        var tableOff = $('.table');
        var aboutOff = $('.about-toggle')
        var icons = $('.limit');

        manifestoTop.addClass('appear');
        scheduleOff.addClass('disable');
        sortmenu.addClass('disable');
        listmenu.addClass('disable');
        tableOff.addClass('disable');
        aboutOff.addClass('disable');
        icons.addClass('invisible');

        $('.manifesto').on('click', function(event){

            $(".manifesto").scrollTop( 0 );

            manifestoTop.removeClass('appear')
            scheduleOff.removeClass('disable');
            sortmenu.removeClass('disable');
            listmenu.removeClass('disable');
            tableOff.removeClass('disable');
            aboutOff.removeClass('disable');
            icons.removeClass('invisible');

        })

    });

    $('.schedule-toggle').on('click', function(event){
        event.preventDefault();
        var manifestoOff = $('.manifesto-toggle');
        var sortmenu = $('.sort-toggle');
        var listmenu = $('.list-toggle');
        var scheduleTop = $('.schedule');
        var tableOff = $('.table');
        var aboutOff = $('.about-toggle')
        var icons = $('.limit');

        scheduleTop.addClass('appear');
        manifestoOff.addClass('disable');
        sortmenu.addClass('disable');
        listmenu.addClass('disable');
        tableOff.addClass('disable');
        aboutOff.addClass('disable');
        icons.addClass('invisible');

        $('.schedule').on('click', function(event){ 

            $(".schedule").scrollTop( 0 );

            scheduleTop.removeClass('appear')
            manifestoOff.removeClass('disable');
            sortmenu.removeClass('disable');
            listmenu.removeClass('disable');
            tableOff.removeClass('disable');
            aboutOff.removeClass('disable');
            icons.removeClass('invisible');
        });

    });

    $('.table p').on('click', function(event){
        event.preventDefault();
        var manifestoOff = $('.manifesto-toggle');
        var sortmenu = $('.sort-toggle');
        var listmenu = $('.list-toggle');
        var scheduleOff = $('.schedule-toggle');
        var tableTop = $('.table-photos');
        var aboutOff = $('.about-toggle')
        var icons = $('.limit');

        tableTop.addClass('appear');
        scheduleOff.addClass('disable');
        manifestoOff.addClass('disable');
        sortmenu.addClass('disable');
        listmenu.addClass('disable');
        aboutOff.addClass('disable');
        icons.addClass('invisible');

        $('.table-photos').on('click', function(event){ 

            $(".table-photos").scrollTop( 0 );

            tableTop.removeClass('appear');
            scheduleOff.removeClass('disable');
            manifestoOff.removeClass('disable');
            sortmenu.removeClass('disable');
            listmenu.removeClass('disable');
            aboutOff.removeClass('disable');
            icons.removeClass('invisible');

        });
    });

    $('.list-toggle').on('click', function(event){
        event.preventDefault();
        var manifestoOff = $('.manifesto-toggle');
        var sortmenu = $('.sort-toggle');
        var listmenu = $('.list-toggle');
        var scheduleOff = $('.schedule-toggle');
        var aboutOff = $('.about-toggle')
        var tableOff = $('.table');
        var spaces = $('.title-right');
        var emptyListView = $('#deleteItAll');

        spaces.addClass('cube-page');
        scheduleOff.addClass('disable');
        manifestoOff.addClass('disable');
        sortmenu.addClass('disable');
        listmenu.addClass('disable');
        tableOff.addClass('disable');
        aboutOff.addClass('disable');
        emptyListView.removeClass('hidden');

        $('#deleteItAll').on('click', function(event){

            $(".list").scrollTop( 0 );

            spaces.removeClass('cube-page');
            scheduleOff.removeClass('disable');
            manifestoOff.removeClass('disable');
            sortmenu.removeClass('disable');
            listmenu.removeClass('disable');
            tableOff.removeClass('disable');
            aboutOff.removeClass('disable');
            emptyListView.addClass('hidden');

        });

    });

    $('.sort-toggle').hover(function(){
        event.preventDefault();
        var sortmenu = $('.sort-toggle');
        var sortoptions = $('.sort-types');

        sortoptions.removeClass('hidden');
        sortmenu.addClass('hidden'); 
    });

    $('.sort-types').on('mouseleave', function(event){
        event.preventDefault();
        var sortmenu = $('.sort-toggle');
        var sortoptions = $('.sort-types');

        sortoptions.addClass('hidden');
        sortmenu.removeClass('hidden'); 
    });

    $('.sort-types').on('click', function(event){
        event.preventDefault();
        var manifestoOff = $('.manifesto-toggle');
        var scheduleOff = $('.schedule-toggle');
        var tableOff = $('.table');
        var aboutOff = $('.about-toggle')
        var listmenu = $('.list-toggle');
        var spaces = $('.title-right');
        var emptyListView = $('#deleteItAll');

        listmenu.addClass('disable');
        scheduleOff.addClass('disable');
        manifestoOff.addClass('disable');
        tableOff.addClass('disable');
        aboutOff.addClass('disable');
        spaces.addClass('cube-page');
        emptyListView.removeClass('hidden');

        $('#deleteItAll').on('click', function(event){

            listmenu.removeClass('disable');
            scheduleOff.removeClass('disable');
            manifestoOff.removeClass('disable');
            tableOff.removeClass('disable');
            aboutOff.removeClass('disable');
            spaces.removeClass('cube-page');
            emptyListView.addClass('hidden');
        });    

    });
    
    $('.selected-img').on('mouseenter', function(event){
        event.preventDefault();
        
        var eyes = $('.eyes-below');
        
        eyes.removeClass('hidden');
        
        $('.selected-img').on('mouseleave', function(event){
            
            eyes.addClass('hidden');
            
        });
    });
      
</script>
        
<script>
    
    $.getJSON("./json/newest.json", function(data) {
        console.log( "loading stuff" );
        var template = $("#manifesto-versions").html();
        var info = Mustache.to_html(template, data);
        $("#manifesto").html(info);
    });
    
    $.getJSON("./json/newest.json", function(data) {
        console.log( "loading some stuff" );
        var template = $("#list").html();
        var info = Mustache.to_html(template, data);
        $(".list").html(info);
    });
    
    $.getJSON("./json/newest.json", function(data) {
        console.log( "loading more stuff" );
        var template = $("#icons").html();
        var info = Mustache.to_html(template, data);
        $("#limit").html(info);
        
         //adding other stuff to the getJSON
        
        $(".prop1, .prop2, .prop3, .prop4").draggable({ containment: "parent", scroll: false });
    
        $('.prop-toggle').on('click', function (){
            
            var sortView = $('#properties');
            var sortTitle = $('.sort-toggle p')
            
            sortView.addClass("appear");
                                                
            if( $('.prop1').parent().attr("class") == "limit" || $('.prop1').parent().attr("class") == "themes"){
                $('.prop1').appendTo('.sort #prop1'); 
            }
            
            if( $('.prop2').parent().attr("class") == "limit" || $('.prop2').parent().attr("class") == "themes"){
                $('.prop2').appendTo('.sort #prop2'); 
            }
            
            if( $('.prop3').parent().attr("class") == "limit" || $('.prop3').parent().attr("class") == "themes"){
                $('.prop3').appendTo('.sort #prop3'); 
            }
            
            if( $('.prop4').parent().attr("class") == "limit" || $('.prop4').parent().attr("class") == "themes"){
                $('.prop4').appendTo('.sort #prop4'); 
            }
            
            if( $('#themes').hasClass("appear")){
                $('#themes').removeClass("appear");
            }
            
            $('#deleteItAll').on('click', function(event){
                
                sortView.removeClass("appear");
                
                $('.prop1, .prop2, .prop3, .prop4').appendTo(".limit")
                
                $('.prop1, .prop2, .prop3, .prop4').each(function(i){
                    // list the one you are working on
                    //alert(i);

                    // store a random number in a variable
                    var t = Math.round(Math.random() * 800);
                    var l = Math.round(Math.random() * 1400);

                    // use that to position the elements
                    $(this).css('top', t);
                    $(this).css('left', l);
                });
            });
        });
        
        $('.theme-toggle').on('click', function (){
            
            var sortView = $('#themes');
            var sortTitle = $('.sort-toggle p')
            
            sortView.addClass("appear");
                                                
            if( $('.them1').parent().attr("class") == "limit" || $('.them1').parent().attr("class") == "properties"){
                $('.them1').appendTo('.sort #them1'); 
            }
            
            if( $('.them2').parent().attr("class") == "limit" || $('.them2').parent().attr("class") == "properties"){
                $('.them2').appendTo('.sort #them2'); 
            }
            
            if( $('.them3').parent().attr("class") == "limit" || $('.them3').parent().attr("class") == "properties"){
                $('.them3').appendTo('.sort #them3'); 
            }
            
            if( $('#properties').hasClass("appear")){
                $('#properties').removeClass("appear");
            }
            
            $('#deleteItAll').on('click', function(event){
                
                sortView.removeClass("appear");
                
                $('.them1, .them2, .them3').appendTo(".limit")
                
                $('.them1, .them2, .them3').each(function(i){
                    // list the one you are working on
                    //alert(i);

                    // store a random number in a variable
                    var t = Math.round(Math.random() * 800);
                    var l = Math.round(Math.random() * 1400);

                    // use that to position the elements
                    $(this).css('top', t);
                    $(this).css('left', l);
                });
            });
        });
        
        $('.list-toggle').on('click', function (){
           
            var listView = $('.list-view');            
            
            listView.addClass("appear");
            
            if( $('.mat1').parent().attr("class") == "limit"){
                $('.mat1').appendTo('.list #mat1');
            }
            
            if( $('.mat2').parent().attr("class") == "limit"){
                $('.mat2').appendTo('.list #mat2'); 
            }
            
            if( $('.mat3').parent().attr("class") == "limit"){
                $('.mat3').appendTo('.list #mat3'); 
            }
            
            if( $('.mat4').parent().attr("class") == "limit"){
                $('.mat4').appendTo('.list #mat4'); 
            }
            
            if( $('.mat5').parent().attr("class") == "limit"){
                $('.mat5').appendTo('.list #mat5'); 
            }
            
            if( $('.mat6').parent().attr("class") == "limit"){
                $('.mat6').appendTo('.list #mat6'); 
            }
            
            if( $('.mat7').parent().attr("class") == "limit"){
                $('.mat7').appendTo('.list #mat7'); 
            }
            
            if( $('.mat8').parent().attr("class") == "limit"){
                $('.mat8').appendTo('.list #mat8'); 
            }
            
            if( $('.mat9').parent().attr("class") == "limit"){
                $('.mat9').appendTo('.list #mat9'); 
            }
            
            if( $('.mat10').parent().attr("class") == "limit"){
                $('.mat10').appendTo('.list #mat10'); 
            }
            
            if( $('.mat11').parent().attr("class") == "limit"){
                $('.mat11').appendTo('.list #mat11'); 
            }
            
            if( $('.mat12').parent().attr("class") == "limit"){
                $('.mat12').appendTo('.list #mat12'); 
            }
            
            if( $('.mat13').parent().attr("class") == "limit"){
                $('.mat13').appendTo('.list #mat13'); 
            }
            
            if( $('.mat14').parent().attr("class") == "limit"){
                $('.mat14').appendTo('.list #mat14'); 
            }
            
            if( $('.mat15').parent().attr("class") == "limit"){
                $('.mat15').appendTo('.list #mat15'); 
            }
            
            if( $('.mat16').parent().attr("class") == "limit"){
                $('.mat16').appendTo('.list #mat16'); 
            }
            
            if( $('.mat17').parent().attr("class") == "limit"){
                $('.mat17').appendTo('.list #mat17'); 
            }
            
            if( $('.mat18').parent().attr("class") == "limit"){
                $('.mat18').appendTo('.list #mat18'); 
            }
            
            if( $('.mat19').parent().attr("class") == "limit"){
                $('.mat19').appendTo('.list #mat19'); 
            }
            
            if( $('.mat20').parent().attr("class") == "limit"){
                $('.mat20').appendTo('.list #mat20'); 
            }
            
            if( $('.mat21').parent().attr("class") == "limit"){
                $('.mat21').appendTo('.list #mat21'); 
            }
            
            if( $('.mat22').parent().attr("class") == "limit"){
                $('.mat22').appendTo('.list #mat22'); 
            }
            
            $('#deleteItAll').on('click', function(event){
                
                listView.removeClass("appear");
                
                $('.mat1, .mat2, .mat3, .mat4, .mat5, .mat6, mat7, .mat8, .mat9, .mat10, .mat11, .mat12, .mat13, .mat14, .mat15, .mat16, .mat17, .mat18, .mat19, .mat20, .mat21, .mat22').appendTo(".limit")
                
                $('.mat1, .mat2, .mat3, .mat4, .mat5, .mat6, mat7, .mat8, .mat9, .mat10, .mat11, .mat12, .mat13, .mat14, .mat15, .mat16, .mat17, .mat18, .mat19, .mat20, .mat21, .mat22').each(function(i){
                    // list the one you are working on
                    //alert(i);

                    // store a random number in a variable
                    var t = Math.round(Math.random() * 800);
                    var l = Math.round(Math.random() * 1400);

                    // use that to position the elements
                    $(this).css('top', t);
                    $(this).css('left', l);
                });
                    
                });
            
        });
        
        //randomly place icons on the page
        
        $('.prop1, .prop2, .prop3, .prop4').each(function(i){

        console.log( "stuff" );
        var t = Math.round(Math.random() * 800);
        var l = Math.round(Math.random() * 1400);

        $(this).css('top', t);
        $(this).css('left', l);
            
        });
        
        //randomly generating icons
        
        $('.location, .visual, .media, .content').each(function(i){
        
        var limitWidth = document.getElementById("limit-small").clientWidth;
        var limitHeight = document.getElementById("limit-small").clientHeight;
        
        var a = Math.random() * 90 - 5;
        
        var b = Math.floor((Math.random() * 100) + 1);
        
        var randPosX = Math.floor((Math.random() * limitWidth));
        var randPosY = Math.floor((Math.random() * limitHeight));
                
        $(this).css('left', randPosX);
        $(this).css('top', randPosY);
        
        $(this).css('transform', 'rotate(' + a + 'deg) scale(.75)');
        });
        
        //moving the icons around
        
        function hitLR(el, bounding) {
            if (el.offsetLeft <= 0 && $(el).data('vx') < 0) {
                $(el).data('vx', -1 * $(el).data('vx'))
            }
            if ((el.offsetLeft + el.offsetWidth) >= bounding.offsetWidth) {
                $(el).data('vx',  -1 * $(el).data('vx'));
            }
            if (el.offsetTop <= 0 && $(el).data('vy') < 0) {
                $(el).data('vy', -1 * $(el).data('vy'));
            }
            if ((el.offsetTop + el.offsetHeight) >= bounding.offsetHeight) {
                $(el).data('vy', -1 * $(el).data('vy'));
            }
        }

        function mover(el, bounding) {
            hitLR(el, bounding);
            el.style.left = el.offsetLeft + $(el).data('vx') + 'px';
            el.style.top = el.offsetTop + $(el).data('vy') + 'px';

        }

        setInterval(function() {
            $('.prop1, .prop2, .prop3, .prop4').each(function(){

                mover(this, $('.limit')[0]);
            });
        }, 50);
        
        //clicking on a icon to access cube

        $('.golink').on('click', function(event){
            event.preventDefault();
            
            console.log( "cube test" );

            var urlbit = $(this).attr('data-url');
            var magiccube = $('#magic-cube')
            var floaters = $('.dictionary');
            var sortmenu = $('.sort-toggle');
            var manifestoOff = $('.manifesto-toggle');
            var scheduleOff = $('.schedule-toggle');
            var tableOff = $('.table');
            var sortContent = $('.sort');
            var listmenu = $('.list-toggle');
            var spaces = $('.title-right');
            var emptyMagicCube = $('#deleteItAll');

            var camera, scenes, renderer, raycaster;
            var container = document.getElementById( 'magic-cube' );
            var cameraControls;
            var cube;

            spaces.addClass('cube-page');
            scheduleOff.addClass('disable');
            manifestoOff.addClass('disable');
            tableOff.addClass('disable');
            listmenu.addClass('disable');
            sortmenu.addClass('disable');
            floaters.addClass('hidden');
            magiccube.removeClass('hidden');
            emptyMagicCube.removeClass('hidden');

            //all the stuff needed to render the cube

            function init() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera( 50, window.innerWidth /        window.innerHeight, 1, 1000 );
                camera.position.z = 125;

                var cameraControls;

                renderer = new THREE.WebGLRenderer({alpha:true});
                renderer.setSize( window.innerWidth, window.innerHeight );
                container.appendChild( renderer.domElement );

                cameraControls = new THREE.OrbitControls(camera, renderer.domElement);
                cameraControls.target.set( 0, -10, 0);
                cameraControls.maxDistance = 200;
                cameraControls.minDistance = 50;
                cameraControls.update();

                var geometry = new THREE.BoxGeometry( 50, 50, 50 );

                var materialArray = [];

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/05.png' ) }));

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/02.png' ) }));

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/03.png' ) }));

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/04.png' ) }));

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/01.png' ) }));

                    materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images' + urlbit + '/06.png' ) }));

                var dictionary = new THREE.MeshFaceMaterial( materialArray );

                cube = new THREE.Mesh ( geometry, dictionary );

                scene.add(cube);

            }


        function animate() {

            requestAnimationFrame( animate );
            render();

            }

        var speed = 0.01;

        function render() {

            cube.rotation.x -= speed * 1.25;
            cube.rotation.y -= speed;
            cube.rotation.z -= speed * 2;

            renderer.render(scene, camera);

            };

            window.addEventListener( 'resize', onWindowResize, false );

            document.addEventListener( 'mousedown', onMouseDown, false );

            document.addEventListener( 'mouseup', onMouseUp, false );

        function onMouseDown( event ) {

            speed = 0;

        }

        function onMouseUp( event ) {

            speed = 0.01;
        }

        function onWindowResize(){

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize( window.innerWidth, window.innerHeight );

        }

        init();
        animate();

        // ends cube   
            
        emptyMagicCube.click(function() {
            
            magiccube.empty();
            
            sortContent.removeClass('appear');
            spaces.removeClass('cube-page');
            scheduleOff.removeClass('disable');
            manifestoOff.removeClass('disable');
            tableOff.removeClass('disable');
            listmenu.removeClass('disable');
            sortmenu.removeClass('disable');
            floaters.removeClass('hidden');
            
            magiccube.addClass('hidden');
            emptyMagicCube.addClass('hidden');
            
                $('.prop1, .prop2, .prop3, .prop4').appendTo(".limit")

                $('.prop1, .prop2, .prop3, .prop4').each(function(i){
                    // store a random number in a variable
                    console.log( "stuff" );
                    var t = Math.round(Math.random() * 800);
                    var l = Math.round(Math.random() * 1400);
                    // use that to position the elements
                    $(this).css('top', t);
                    $(this).css('left', l);
                });
            
            });

        });
        
    });
    
</script>  
    
</body>

</html>